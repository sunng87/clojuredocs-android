<html>
  <head>
    <meta name="viewport" content="user-scalable=no, width=device-width" />
    <title>ClojureDocs Android</title>
    <link href="css/shCoreDefault.css" rel="stylesheet" type="text/css"/>
    <link href="css/shClojureExtra.css" rel="stylesheet"
    type="text/css"/>
    <link href="css/style.css" rel="stylesheet" type="text/css" />
    <script src="js/mootools-core-1.4.3-full-nocompat-yc.js" type="text/javascript"></script>
    <script src="js/phonegap-1.3.0.js" type="text/javascript"></script>
    <script src="js/shCore.js" type="text/javascript"></script>
    <script src="js/shBrushClojure.js"
    type="text/javascript"></script>
    <script src="js/actions.js" type="text/javascript"></script>
    <link rel="apple-touch-icon-precomposed" href="img/icon.png">
  </head>
  <body>
    <div id="page">
      <div id="search">
        <input type="search" results="5" id="searchbox" 
               placeholder="Search clojure docs" /><input type="button" id="searchbtn" />
      </div>
      
      <div id="content">
        <div id="home">
            <h1>ClojureDocs</h1>
            <p>Community Powered Documents and Examples for the Clojure
            Programming Language.</p>
            <img src="img/cd_logo.png" />
            <p>Clojure is a dynamic programming language that targets the
                Java Virtual Machine (and the CLR, and JavaScript). It is
                designed to be a general-purpose language, combining the
                approachability and interactive development of a scripting
                language with an efficient and robust infrastructure for
                multithreaded programming. <br/>From clojure.org</p>
        </div>
          <!--ul><li class="search_result_item"><span class="search_result_item_fname">reduce</span><br><span class="search_result_item_ns">(clojure.core)</span></li><li class="search_result_item"><span class="search_result_item_fname">preduce</span><br><span class="search_result_item_ns">(clojure.contrib.datalog.util)</span></li><li class="search_result_item"><span class="search_result_item_fname">areduce</span><br><span class="search_result_item_ns">(clojure.core)</span></li><li class="search_result_item"><span class="search_result_item_fname">m-reduce</span><br><span class="search_result_item_ns">(clojure.contrib.monads)</span></li><li class="search_result_item"><span class="search_result_item_fname">sample-reduce</span><br><span class="search_result_item_ns">(clojure.contrib.probabilities.monte-carlo)</span></li><li class="search_result_item"><span class="search_result_item_fname">InternalReduce</span><br><span class="search_result_item_ns">(clojure.core.protocols)</span></li><li class="search_result_item"><span class="search_result_item_fname">internal-reduce</span><br><span class="search_result_item_ns">(clojure.core.protocols)</span></li><li class="search_result_item"><span class="search_result_item_fname">ring.adapter.httpcore.proxy$java.lang.Object$ContentProducer$2f493dd0</span><br><span class="search_result_item_ns">(ring.adapter.httpcore)</span></li></ul-->
          <!--div id="fcontainer"><h2>fnil</h2><p class="fns">clojure.core</p><ul id="usages"><li>(fnil f x)</li><li>(fnil f x y)</li><li>(fnil f x y z)</li></ul><h3>Docstring</h3><div class="fdoc">Takes a function f, and returns a function that calls f, replacinga nil first argument to f with the supplied value x. Higher arityversions can replace arguments in the second and thirdpositions (y, z). Note that the function f can take any number ofarguments, not just the one(s) being nil-patched.</div><h3>Sources</h3><div class="source"><pre class="brush:clojure">(defn fnil
  "Takes a function f, and returns a function that calls f, replacing
  a nil first argument to f with the supplied value x. Higher arity
  versions can replace arguments in the second and third
  positions (y, z). Note that the function f can take any number of
  arguments, not just the one(s) being nil-patched."
  {:added "1.2"
   :static true}
  ([f x]
   (fn
     ([a] (f (if (nil? a) x a)))
     ([a b] (f (if (nil? a) x a) b))
     ([a b c] (f (if (nil? a) x a) b c))
     ([a b c &amp; ds] (apply f (if (nil? a) x a) b c ds))))
  ([f x y]
   (fn
     ([a b] (f (if (nil? a) x a) (if (nil? b) y b)))
     ([a b c] (f (if (nil? a) x a) (if (nil? b) y b) c))
     ([a b c &amp; ds] (apply f (if (nil? a) x a) (if (nil? b) y b) c ds))))
  ([f x y z]
   (fn
     ([a b] (f (if (nil? a) x a) (if (nil? b) y b)))
     ([a b c] (f (if (nil? a) x a) (if (nil? b) y b) (if (nil? c) z c)))
     ([a b c &amp; ds] (apply f (if (nil? a) x a) (if (nil? b) y b) (if (nil? c) z c) ds)))))</pre></div><h3>Examples</h3><div class="source"><pre class="brush:clojure">;; a function that expects a non-nil value
(defn say-hello [name] (str "Hello " name))
#'user/say-hello

;; fnil lets you create another function with a default
;; arg in case it is passed a nil
(def say-hello-with-defaults (fnil say-hello "World"))
#'user/say-hello-with-defaults

;; the happy path works as you would expect
(say-hello-with-defaults "Sir")
"Hello Sir"

;; but in the case that the function is passed a nil it will use the 
;; default supplied to fnil
(say-hello-with-defaults nil)
"Hello World"

;; this works with different arities too
(defn say-hello [first other] (str "Hello " first " and " other))
#'user/say-hello

;; lets create it with defaults
(def say-hello-with-defaults (fnil say-hello "World" "People"))
#'user/say-hello-with-defaults

;; call the function with all nil args - notice it uses the defaults
;; supplied to fnil
(say-hello-with-defaults nil nil)
"Hello World and People"

;; any of the args can be nil - the function will supply 
;; the default supplied with fnil
(say-hello-with-defaults "Sir" nil)
"Hello Sir and People"

;; and again - notice that "World" is the default here
(say-hello-with-defaults nil "Ma'am")
"Hello World and Ma'am"

;; or pass all args 
(say-hello-with-defaults "Sir" "Ma'am")
"Hello Sir and Ma'am"
</pre></div></div-->
      </div>
      <div id="footer">
        &copy; Zachary Kim. ClojureDocs.org                           <br />
        &copy; Rich Hichey. Clojure sources and inline docs. <br />
        &copy; Sun Ning. ClojureDocs Android App.
      </div>
    </div>
  </body>
</html>
